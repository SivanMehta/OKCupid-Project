---
author: "Sivan Mehta"
output: html_document
---

# 1. Generating Graph 1

```{r, warning=FALSE, fig.width = 12}
library(ggplot2)

# load in data
if(!file.exists("../sample.csv"))
{
    source("../preprocess.r")
}
profiles <- read.csv("../sample.csv")

ggplot(subset(profiles, polarity < 2 & wc < 500)) + 
            geom_point(aes(x = polarity, y = wc)) + 
            ggtitle("Word Count vs. Sentiment")
```

In this graph, we are graphing the continuous variables `polarity` and `wc`, or word count, which were both generated. The `wc` variable was generated by preprocessing the `essay0` variable in the dataset with the following count to generate the total number of words in the provided string:

```{r, eval = FALSE}
profiles$wc <- sapply(strsplit(as.character(profiles$essay0), " "), length)
```

To generate the `polarity` value we took the existing dataset and preprocessed it using the following code:

```{r, eval = FALSE}
library(qdap)
sample <- profiles[sample(nrow(profiles), 2000), ]
sample$polarity <- polarity(sample$essay0)$all$polarity
```

Because the `polarity` function from the [`qdap`](https://cran.r-project.org/web/packages/qdap/index.html) package takes a long time, we had to take a random sample of 2000 profiles from the dataset. This function simply takes a string and returns the polarity of the text, or simply how positive or negative the sentiment of the text is. Both the preprocessing for `polarity` and `wc` were done in a `preprocess.r` file that was provided in the final project.

We took a subset here simply to leave out what we saw as outliers. This helps "zoom" in the graph to the more interesting pieces, and helps make the group structure easier to see.

# 2. The graph itself

In this graph, we see `wc` on the vertical axis and `polarity` on the horizontal axis. The black coloring of the points and the size of the points are all the same and have no actual bearing. An interesting feature that certainly stands out in this graph is the clear groups that form along lines that look like variations of a $y=\frac{ 1 }{ x }$ kind of curve. Upon further analysis, it would be interesting to see if these groups correspond to as they don't correspond to any of the categorical variables provided in the dataset
